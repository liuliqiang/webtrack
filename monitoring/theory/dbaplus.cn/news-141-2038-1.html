<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" />
    <title>新手也能看懂的监控报警系统架构设计 - 架构 - dbaplus社群：围绕Data、Blockchain、AiOps的企业级专业社群。技术大咖、原创干货，每天精品原创文章推送，每周线上技术分享，每月线下技术沙龙。</title>
    <meta name="keywords" content="报警系统,架构,新手">
    <meta name="description" content="有别于常见的产品实现细节说明书，本文重点讲解背景原理与骨架逻辑。">

    <!-- jQuery -->
    <script src="https://cdn.staticfile.org/jquery/2.1.4/jquery.min.js"></script>

    <!-- Bootstrap -->
    <!-- <link href="https://apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet"> -->
    <link href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <!-- <script src="https://apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script> -->
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <!-- App -->
    <link href="statics/dbaplus/style.css?v=20170728" rel="stylesheet">
    <link href="statics/dbaplus/style_top.css?v=2018061415" rel="stylesheet">
	<link rel="shortcut icon" href="favicon.ico"/>

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
	
	<!--百度自动推送-->
	<script>
	(function(){
		var bp = document.createElement('script');
		var curProtocol = window.location.protocol.split(':')[0];
		bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
		var s = document.getElementsByTagName("script")[0];
		s.parentNode.insertBefore(bp, s);
	})();
	</script>
</head>
<body><script type="text/javascript" src="statics/js/login.js?v=20180822"></script>
<div class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <!-- .navbar-toggle样式用于toggle收缩的内容，即nav-collapse collapse样式所在元素 -->
            <button class="navbar-toggle" type="button" data-toggle="collapse"
                    data-target=".navbar-responsive-collapse">
                <span class="sr-only">Toggle Navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <!-- 确保无论是宽屏还是窄屏，navbar-brand都显示 -->
            <a href="https://dbaplus.cn" title="新手也能看懂的监控报警系统架构设计 - 架构 - dbaplus社群：围绕Data、Blockchain、AiOps的企业级专业社群。技术大咖、原创干货，每天精品原创文章推送，每周线上技术分享，每月线下技术沙龙。" class="navbar-brand"><img src="statics/dbaplus/images/logo1.png"></a>
        </div>
        <!-- 屏幕宽度小于768px时，div.navbar-responsive-collapse容器里的内容都会隐藏，显示icon-bar图标，当点击icon-bar图标时，再展开。屏幕大于768px时，默认显示。 -->
        <div class="collapse navbar-collapse navbar-responsive-collapse navbar-right">
																																																																																		 
                        <ul class="nav navbar-nav">
                <!-- <li class=""><a href="https://dbaplus.cn"><span>首页</span></a></li> -->
                <li><a href="https://dbaplus.cn"><span>首页</span></a></li>
                                <!-- <li class=""> -->
                <li>
					<a href="https://dbaplus.cn/index.php?m=content&c=index&a=lists&catid=59">
						<span>活动</span>
						<b class="caret"></b>					</a>
					<!--mainnavMenu-->
															<div class="child_cat" style="display:none;">
						<ul>
													<li>
								<a href="https://dbaplus.cn/activity-12-1.html" >线上分享</a>
							</li>
													<li>
								<a href="https://dbaplus.cn/activity-48-1.html" >线下沙龙</a>
							</li>
												</ul>
					</div>
														</li>
                                <!-- <li class=""> -->
                <li>
					<a href="https://dbaplus.cn/new_video/index.html">
						<span>在线课程</span>
											</a>
					<!--mainnavMenu-->
															<div class="child_cat" style="display:none;">
						<ul>
												</ul>
					</div>
														</li>
                                <!-- <li class=""> -->
                <li>
					<a href="http://gdevops.com">
						<span>Gdevops峰会</span>
											</a>
					<!--mainnavMenu-->
															<div class="child_cat" style="display:none;">
						<ul>
												</ul>
					</div>
														</li>
                                <!-- <li class=""> -->
                <li>
					<a href="http://www.dams.org.cn/" target="_blank">
						<span>DAMS峰会</span>
											</a>
					<!--mainnavMenu-->
															<div class="child_cat" style="display:none;">
						<ul>
												</ul>
					</div>
														</li>
                                <!-- <li class=""> -->
                <li>
					<a href="https://dbaplus.cn/list-143-1.html">
						<span>原创风采</span>
						<b class="caret"></b>					</a>
					<!--mainnavMenu-->
															<div class="child_cat" style="display:none;">
						<ul>
													<li>
								<a href="https://dbaplus.cn/blog-56-1.html" >专家专栏</a>
							</li>
													<li>
								<a href="https://dbaplus.cn/list-202-1.html" >十大MVP</a>
							</li>
													<li>
								<a href="https://dbaplus.cn/list-163-1.html" >企业专栏</a>
							</li>
												</ul>
					</div>
														</li>
                                <!-- <li class=""> -->
                <li>
					<a href="https://dbaplus.cn/news-135-1.html">
						<span>企业直聘</span>
											</a>
					<!--mainnavMenu-->
															<div class="child_cat" style="display:none;">
						<ul>
												</ul>
					</div>
														</li>
                                <!-- <li class=""> -->
                <li>
					<a href="https://dbaplus.cn/list-142-1.html">
						<span>下载</span>
											</a>
					<!--mainnavMenu-->
															<div class="child_cat" style="display:none;">
						<ul>
												</ul>
					</div>
														</li>
                                <!-- <li class=""> -->
                <li>
					<a href="https://dbaplus.cn/list-144-1.html">
						<span>关于我们</span>
						<b class="caret"></b>					</a>
					<!--mainnavMenu-->
															<div class="child_cat" style="display:none;">
						<ul>
													<li>
								<a href="https://dbaplus.cn/about-61.html" >社群介绍</a>
							</li>
													<li>
								<a href="http://dbaplus.cn/index.php?m=content&c=index&a=lists&catid=114" >社群架构</a>
							</li>
													<li>
								<a href="https://dbaplus.cn/list-188-1.html" >顾问委员会</a>
							</li>
												</ul>
					</div>
														</li>
                				<li class="search">
					<a><img src="statics/dbaplus/images/search.png"><!--  <span> 搜索 </span> --></a>
					<div style="display:none;" class="search-box">
						<form id='search_form' action="https://dbaplus.cn/index.php" method="get">
							<input type="hidden" name="m" value="content" />
							<input type="hidden" name="c" value="index" />
							<input type="hidden" name="a" value="lists" />
							<input type="hidden" name="catid" value="55" />
							<a class="link"><img src="statics/dbaplus/images/search2.png"></a>
							<input type="text" placeholder="搜索" name="word" class="search-input" />
						</form>
					</div>
				</li>
				<li class="member" id="head_is_login">
											<!-- 						<div id="announ">
							<ul>
															</ul>
						</div>
						 -->
												<!-- <a href="https://dbaplus.cn/index.php?m=content&c=rss&siteid=1" class="rss ib">rss</a> -->
													<span class="login">
								<a href="https://dbaplus.cn/index.php?m=member&c=index&a=login&forward=&siteid=1" target="_top">
									<!-- <i class="icon-member-login"></i> -->
									<span>登录</span>
								</a>
								<a href="https://dbaplus.cn/index.php?m=member&c=index&a=register&siteid=1" target="_blank">
									<!-- <i class="icon-member-register"></i> -->
									<span>注册</span>
								</a>
							</span>
															</li>
            </ul>
                    </div>		
    </div>
</div>

<script type="text/javascript">
    $(function(){
        $(".nav li").hover(function(){
            $(this).find(".child_cat").show();
        },function(){
            $(this).find(".child_cat").hide();
        });
		
		$('#search_form').submit(function(){
				var text = $("[name=word]").val();
				if(!text)
					return false;
		});
		$(".link").click(function(){
				var text = $("[name=word]").val();
				if(text)
				 window.location.href="index.php?m=content&c=index&a=lists&catid=55&word="+encodeURIComponent(text); 
		});
		$(".search").mouseover(function(){
			$(".search-box").show();
		});
				
		function mout(){
			if(!$('input .search-input').is(':focus')){
				$(".search-box").hide();
			} 
		}
		$(".search").on('mouseout',mout);
		$("input.search-input").focus(function(){
			$(".search").off('mouseout');
		});
		$("input.search-input").blur(function(){
			$(".search").on('mouseout',mout);
			if(!$(".search").is(':hover')){
				$(".search-box").hide();
			}
		});
    });
</script>
<div class="container">
    <div class="row">

        <div class="col-xs-12 col-md-8">
            <div class="panel panel-default new-show">
                <div class="panel-body">
                    <h2 class="title mt20">新手也能看懂的监控报警系统架构设计</h2>
                    <div class="adress">
						<span class="user"><b class="glyphicon glyphicon-usera"></b>汪涉洋</span>
						<span class="time"><b class="glyphicon glyphicon-timea"></b>2018-05-03 11:20:56</span>
						<!-- <b class="glyphicon glyphicon-hits"></b><span id="hits"></span> -->
                    </div>
					<!--点击次数统计JS-->
					<script src="https://dbaplus.cn/api.php?op=count&amp;id=2038&amp;modelid=1"></script>
                    <div class="new-detailed mt20">
                        <p style="margin: 0px; padding: 0px; clear: both; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-size: medium; text-align: justify;"><span style="color: rgb(19, 139, 213); font-weight: 700;">作者介绍</span></p>
<section label="Copyright © 2015 Yead All Rights Reserved." style="margin: 5px auto; padding: 0px; font-size: 14px; max-width: 100%; line-height: 25.6px; font-family: 微软雅黑; text-align: justify; overflow-wrap: break-word !important;">
	<section style="margin: 0px; padding: 5px 0px; max-width: 100%; width: 1133px; text-decoration: inherit; box-sizing: border-box; overflow-wrap: break-word !important;">
		<section style="margin: 0px; padding: 0px 0px 5px 20px; max-width: 100%; border-left: 3px solid rgb(153, 153, 153); box-sizing: border-box; overflow-wrap: break-word !important;">
			<p style="margin: 0px; padding: 0px; clear: both;"><span style="margin: 0px; padding: 0px; font-size: 16px;"><strong style="margin: 0px; padding: 0px;">汪涉洋</strong><strong style="margin: 0px; padding: 0px; color: rgb(62, 62, 62);">，</strong></span>来自美国视频网站hulu的工程师，毕业于北京理工大学计算机专业，目前从事大数据基础架构方面的工作，个人知乎专栏&ldquo;大数据SRE的总结&rdquo;：http://dwz.cn/7ygSgc。</p>
		</section>
	</section>
</section>
<p style="margin: 0px; padding: 0px; clear: both; color: rgb(0, 0, 0); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-size: medium;">&nbsp;</p>
<section data-role="outer" label="Powered by 135editor.com" style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-size: 16px;">
	<section class="_135editor" data-color="#138bd5" data-role="paragraph" style="margin: 0px; padding: 0px; border-width: 0px; border-style: none; border-color: initial; box-sizing: border-box;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">对于监控报警这一块内容我想过很多次，要从哪个方面讲。因为监控报警在现在这个时代的互联网公司已经是一个通用的产品，而大数据的监控报警只是其中的一系列报警规则子集，虽然这个子集很复杂。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">有趣的是，报警系统的下层数据存储引擎，也是归类于大数据存储的范畴。所以我打算从这样的大纲来展开本文：</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<section class="_135editor" data-color="#c6c6c7" data-custom="#c6c6c7" data-id="5" data-tools="135编辑器" style="margin: 0px; padding: 0px; border-width: 0px; border-style: none; border-color: initial; box-sizing: border-box;">
			<section class="135brush layout" style="margin: 2px auto; padding: 15px; font-size: 14px; line-height: 25px; border-width: 2px; border-style: dashed; border-color: rgb(198, 198, 199); max-width: 100%; box-sizing: border-box;">
				<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><strong style="margin: 0px; padding: 0px;">本文大纲：</strong></p>
				<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;">1、针对大数据集群，监控报警的特点</p>
				<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;">2、监控报警系统发展的历史及业务背景</p>
				<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;">3、监控报警系统的通用架构</p>
				<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;">4、监控报警系统细节分析</p>
				<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;">5、总结</p>
			</section>
		</section>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<section class="_135editor" data-color="#138bd5" data-id="86122" data-tools="135编辑器" style="margin: 0px; padding: 0px; border-width: 0px; border-style: none; border-color: initial; box-sizing: border-box;">
			<section style="margin: 0.5em 0px; padding: 0px;">
				<section style="margin: 0px; padding: 0px 0px 2px; text-align: center; color: rgb(255, 255, 255); background-color: rgb(19, 139, 213); box-sizing: border-box;">
					<section style="margin: 0px; padding: 0.5em 1.5em; border-bottom: 1px solid rgb(254, 254, 254); border-top-color: rgb(19, 139, 213); border-right-color: rgb(19, 139, 213); border-left-color: rgb(19, 139, 213); box-sizing: border-box;">
						<p class="135brush" data-brushtype="text" style="margin: 0px; padding: 0px; clear: both; font-size: 20px; line-height: 20px;"><strong style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; font-size: 16px;">一、针对大数据集群，监控报警的特点</span></strong></p>
					</section>
				</section>
			</section>
		</section>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: center;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: center;"><img data-copyright="0" data-ratio="0.39728682170542634" data-s="300,640" data-type="png" data-w="516" src="uploadfile/2018/0503/20180503112116648.png" style="margin: 0px; padding: 0px; max-width: 100%;" /></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: center;"><span style="margin: 0px; padding: 0px; font-size: 12px;">（图示为针对大数据集群的不同特性，监控报警的特点）</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">像大数据基础设施这种部门，不可能配制专门的测试工程师，那么这么多的机器、服务以及应用要如何很好地运转下去呢？</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">这就需要一套强大的&ldquo;自动化监控报警系统&rdquo;。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">这一块，不同的公司应对方案是不同的。大公司、小公司、创业公司，根据自己的实际情况，应该选择对于自己合理的解决方案。已经有很多很好的文章谈过这个问题了，可以参考以下两篇文章：</span></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;">&nbsp;</p>
		<ul class="list-paddingleft-2" style="margin: 0px; padding-right: 0px; padding-left: 30px; width: 530.094px;">
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both;"><span style="margin: 0px; padding: 0px; font-size: 15px;">https://zhuanlan.zhihu.com/p/31285905</span></p>
		</li>
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both;"><span style="margin: 0px; padding: 0px; font-size: 15px;">https://zhuanlan.zhihu.com/p/30823210</span></p>
		</li>
		</ul>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<section class="_135editor" data-color="#138bd5" data-id="86122" data-tools="135编辑器" style="margin: 0px; padding: 0px; border-width: 0px; border-style: none; border-color: initial; box-sizing: border-box;">
			<section style="margin: 0.5em 0px; padding: 0px;">
				<section style="margin: 0px; padding: 0px 0px 2px; text-align: center; color: rgb(255, 255, 255); background-color: rgb(19, 139, 213); box-sizing: border-box;">
					<section style="margin: 0px; padding: 0.5em 1.5em; border-bottom: 1px solid rgb(254, 254, 254); border-top-color: rgb(19, 139, 213); border-right-color: rgb(19, 139, 213); border-left-color: rgb(19, 139, 213); box-sizing: border-box;">
						<p class="135brush" data-brushtype="text" style="margin: 0px; padding: 0px; clear: both; font-size: 20px; line-height: 20px;"><strong style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; font-size: 16px;">二、监控报警系统发展历史及业务背景</span></strong></p>
					</section>
				</section>
			</section>
		</section>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">市面上的监控报警系统多种多样，但越是眼花缭乱的市场，越要睁大眼睛，看其本质，剥其筋骨，找一款合适自己的解决方案。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">网上有很多讲述公司内部监控报警系统的文章，都提到了自家监控系统的实现，但都是直接讲解了实现的细节，没有讲骨架、背景，我感觉对于新入行的程序员来说会略显生硬，对于想了解监控报警系统内部运作原理的人来说，架构逻辑也不够清晰。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">所以，我想写一篇既讲背景，又讲骨架的文章。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">首先是背景，我们先来谈谈软件工程。在很早以前，软件开发的技术团队在做迭代开发时，一般是要经历这样的开发流程：</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<ul class="list-paddingleft-2" style="margin: 0px; padding-right: 0px; padding-left: 30px; width: 530.094px;">
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">需求分析</span></p>
		</li>
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">原型／功能设计</span></p>
		</li>
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">测试用例设计（Tdd 测试驱动的开发）</span></p>
		</li>
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">开发人员完成功能，部署测试环境&nbsp;</span></p>
		</li>
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">测试按照测试用例做测试&nbsp;</span></p>
		</li>
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">如果在测试时，发现Bug，则回滚给开发重新Fix</span></p>
		</li>
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">如果测试没测试出Bug，则上线生产环境</span></p>
		</li>
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">等线上真正有用户发现了Bug，好心的用户会汇报Bug，联系客服人员</span></p>
		</li>
		</ul>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">这种流程会导致什么问题呢？</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">一般简单的<strong style="margin: 0px; padding: 0px;">&ldquo;显式&rdquo;Bug</strong>，比如&ldquo;网站关键页面打不开了&rdquo;、&ldquo;网站下单支付功能一直失败&rdquo;等等这类错误，用户和公司都能在相对的一段时间内发现问题。然后问题被重新整理报修为Bug，修复、回滚。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">而一些<strong style="margin: 0px; padding: 0px;">&ldquo;隐式&rdquo;Bug</strong>，比如&ldquo;网站越来越慢了&rdquo;、&ldquo;支付功能要30秒才能成功&rdquo;、&ldquo;有时成功，有时失败&rdquo;；&ldquo;短信验证码在产品上线了一周后，变得要25秒才能发送到客户手机上&rdquo;。 这类问题，有时并不影响业务逻辑的正常运转，但系统内部肯定是哪里已经出现问题了。有时长期积累下去，会慢慢暴露出更多问题，最后导致核心业务的Down机。有时甚至就是产品性能上线后本身就很差，由于某次上线的&ldquo;代码/配置&rdquo;变更导致。这种&ldquo;隐式&rdquo;的Bug也会影响用户体验。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><strong style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; font-size: 15px;">测试发现显示Bug，what about隐式Bug？</span></strong></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">随着互联网的发展，各大互联网公司对业务稳定、可靠性的要求越来越高。但公司的业务线是越来越多的，测试工程师不可能人肉去干无穷尽的手工测试，每天24小时一直盯着产品。作为公司，更是希望这种隐式的Bug不要由用户报告出来，最好是在内部 &ldquo;快速&rdquo;发现问题、&ldquo;自动&rdquo;发现问题、要比&ldquo;用户&rdquo;早发现问题。这就逼迫开创了了&ldquo;自动化周期性线上测试&rdquo;。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">&ldquo;早期的自动化测试&rdquo;只发生在软件上线之前。比如开发提交了新的功能之后，公司内会有Jenkins这种持续集成工具自动触发去跑测试用例。用例包括开发人员的&ldquo;单元（白盒）测试&rdquo;，以及测试人员写的&ldquo;脚本（黑盒）测试&rdquo;。要求全部通过之后，方能部署到&ldquo;生产&rdquo;环境。这种方式，能发现大部分的&ldquo;显示&rdquo;Bug，但是很难发现&ldquo;隐式&rdquo;bug。倘若有些程序有内存泄漏，并不会第一时间马上崩溃，可能是跑了一个星期，甚至一个月才产生问题。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">&ldquo;自动化周期性线上测试&rdquo;，解决隐式的Bug，在产品上线后，持续地针对线上环境的多种指标，进行长期观测，进行规律判断来发现异常。如果有潜在的异常，那么某些监控指标会出现问题。还有一些异常指标在暴露时，如果能第一时间联系到对应产品的&ldquo;负责人&rdquo;，马上进行补救，这长期来看，对产品的口碑会有一个很大的提升。比如：一个电商网站的支付页面，响应速度持续地超过5s，远大于长期的平均值（2s），在这种现象连续出现5次时，报警给这一块的研发人员，其发现程序有资源泄漏导致机器变慢，然后先重启了部分服务，保证用户速度提上来，之后马上组织对此功能进行Hotfix，最终解决问题。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<section class="_135editor" data-color="#138bd5" data-id="86122" data-tools="135编辑器" style="margin: 0px; padding: 0px; border-width: 0px; border-style: none; border-color: initial; box-sizing: border-box;">
			<section style="margin: 0.5em 0px; padding: 0px;">
				<section style="margin: 0px; padding: 0px 0px 2px; text-align: center; color: rgb(255, 255, 255); background-color: rgb(19, 139, 213); box-sizing: border-box;">
					<section style="margin: 0px; padding: 0.5em 1.5em; border-bottom: 1px solid rgb(254, 254, 254); border-top-color: rgb(19, 139, 213); border-right-color: rgb(19, 139, 213); border-left-color: rgb(19, 139, 213); box-sizing: border-box;">
						<p class="135brush" data-brushtype="text" style="margin: 0px; padding: 0px; clear: both; font-size: 20px; line-height: 20px;"><strong style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; font-size: 16px;">三、监控报警系统的通用架构</span></strong></p>
					</section>
				</section>
			</section>
		</section>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">之前讲了&ldquo;自动化周期性线上测试&rdquo;的产生历史原因及背景。看起来，是时代的发展倒逼技术界而产生的&ldquo;技术更替&rdquo;。在往后的内容，我们把&ldquo;自动化周期性线上测试&rdquo;系统，称为&ldquo;监控报警&rdquo;系统。因为它代替了人去&ldquo;监控&rdquo;，代替了测试工程师去&ldquo;报告问题&rdquo;。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">监控报警我认为分为4大块：</span></p>
		<ul class="list-paddingleft-2" style="margin: 0px; padding-right: 0px; padding-left: 30px; width: 530.094px;">
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">收集数据</span></p>
		</li>
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">存储数据（时间序列的存储）</span></p>
		</li>
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">报警规则</span></p>
		</li>
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">报警行为</span></p>
		</li>
		</ul>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: center;"><img data-copyright="0" data-ratio="0.3625" data-s="300,640" data-type="jpeg" data-w="720" src="uploadfile/2018/0503/20180503112125792.jpg" style="margin: 0px; padding: 0px; max-width: 100%;" /></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: center;"><span style="margin: 0px; padding: 0px; font-size: 12px;">监控报警信息流</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">这是基本骨架，再细化一下，整个架构图会变成这个样子：</span></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: center;"><img data-copyright="0" data-ratio="0.7555555555555555" data-s="300,640" data-type="jpeg" data-w="720" src="uploadfile/2018/0503/20180503112134787.jpg" style="margin: 0px; padding: 0px; max-width: 100%;" /></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: center;"><span style="margin: 0px; padding: 0px; font-size: 12px;">监控报警系统架构图</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<section class="_135editor" data-color="#138bd5" data-id="86122" data-tools="135编辑器" style="margin: 0px; padding: 0px; border-width: 0px; border-style: none; border-color: initial; box-sizing: border-box;">
			<section style="margin: 0.5em 0px; padding: 0px;">
				<section style="margin: 0px; padding: 0px 0px 2px; text-align: center; color: rgb(255, 255, 255); background-color: rgb(19, 139, 213); box-sizing: border-box;">
					<section style="margin: 0px; padding: 0.5em 1.5em; border-bottom: 1px solid rgb(254, 254, 254); border-top-color: rgb(19, 139, 213); border-right-color: rgb(19, 139, 213); border-left-color: rgb(19, 139, 213); box-sizing: border-box;">
						<p class="135brush" data-brushtype="text" style="margin: 0px; padding: 0px; clear: both; font-size: 20px; line-height: 20px;"><strong style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; font-size: 16px;">四、监控报警系统细节分析</span></strong></p>
					</section>
				</section>
			</section>
		</section>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<section class="_135editor" data-color="#138bd5" data-id="85640" data-tools="135编辑器" style="margin: 0px; padding: 0px; border-width: 0px; border-style: none; border-color: initial; box-sizing: border-box; text-align: justify;">
			<section style="margin: 0px; padding: 0px; display: inline-block; float: left; color: rgb(255, 255, 255); border-color: rgb(19, 139, 213); background-color: rgb(19, 139, 213); box-sizing: border-box;">
				<section style="margin: 0px; padding: 5px 8px; display: inline-block; vertical-align: middle; color: inherit; box-sizing: border-box;">
					<section style="margin: 0px; padding: 0px; color: inherit;">
						<strong style="margin: 0px; padding: 0px; color: inherit;">1</strong></section>
				</section>
			</section>
			<section style="margin: 8px 0px 0px; padding: 0px; border-left: 8px solid rgb(19, 139, 213); border-right-width: 0px; border-right-color: rgb(19, 139, 213); display: inline-block; float: left; color: inherit; box-sizing: border-box; border-bottom: 8px solid transparent !important; border-top: 8px solid transparent !important;">
				&nbsp;</section>
			<section style="margin: 0px; padding: 2px 0px 0px 40px; font-size: 18px; box-sizing: border-box;">
				<strong style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; color: inherit; font-family: 微软雅黑; font-size: 15px;">收集数据</span></strong></section>
		</section>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">收集数据，我想这篇经典的《Measure Anything，Measure Everything》</span><span style="margin: 0px; padding: 0px; font-size: 12px;">（<span style="margin: 0px; padding: 0px;">https://www.tuicool.com/articles/A3AFvu6</span>）</span><span style="margin: 0px; padding: 0px; font-size: 15px;">，是开启了新时代&ldquo;数据驱动&rdquo;的监控运维思想的一篇博文，大家可以读一读，这里面讲到的思想，也符合我这一系列文章的主旨：</span><span style="margin: 0px; padding: 0px; font-size: 15px;">让一切人的决策基于数据。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">文章中提到，企业级的监控数据，通常包括下三类：</span></p>
		<ul class="list-paddingleft-2" style="margin: 0px; padding-right: 0px; padding-left: 30px; width: 530.094px;">
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">网络数据。包括骨干交换机，核心交换机等硬件设备；</span></p>
		</li>
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">服务器数据。 包括服务器的CPU、内存、硬盘的各项使用数据；</span></p>
		</li>
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">应用数据。</span></p>
		</li>
		</ul>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">应用数据是这三者中最难的，但也是最重要的。应用数据是和业务逻辑紧密相关的，业务逻辑变了，应用数据的收集也会变化。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">在应用数据这一块，有一个开源项目叫Statsd，他催生了&ldquo;应用数据收集标准&rdquo; &lt;github-statsd 应用数据收集标准&gt;。我在这里也简单提一下：</span></p>
		<ul class="list-paddingleft-2" style="margin: 0px; padding-right: 0px; padding-left: 30px; width: 530.094px;">
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">累加值(Counting) gorets：1 | c</span></p>
		</li>
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">服务耗时(Timing) glork：320 | ms | @0.1</span></p>
		</li>
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">指标值(Gauges) gaugor：333 | g</span></p>
		</li>
		</ul>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">字符串的第一部分，就是 &quot;METRIC&quot;，用冒号隔开的左边是&ldquo;METRIC_KEY&rdquo;，右边是&ldquo;METRIC_VALUE&rdquo;，竖线右边的部分是&ldquo;数据类型&rdquo;。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<section class="_135editor" data-color="#138bd5" data-id="85640" data-tools="135编辑器" style="margin: 0px; padding: 0px; border-width: 0px; border-style: none; border-color: initial; box-sizing: border-box; text-align: justify;">
			<section style="margin: 0px; padding: 0px; display: inline-block; float: left; color: rgb(255, 255, 255); border-color: rgb(19, 139, 213); background-color: rgb(19, 139, 213); box-sizing: border-box;">
				<section style="margin: 0px; padding: 5px 8px; display: inline-block; vertical-align: middle; color: inherit; box-sizing: border-box;">
					<section style="margin: 0px; padding: 0px; color: inherit;">
						<strong style="margin: 0px; padding: 0px; color: inherit;">2</strong></section>
				</section>
			</section>
			<section style="margin: 8px 0px 0px; padding: 0px; border-left: 8px solid rgb(19, 139, 213); border-right-width: 0px; border-right-color: rgb(19, 139, 213); display: inline-block; float: left; color: inherit; box-sizing: border-box; border-bottom: 8px solid transparent !important; border-top: 8px solid transparent !important;">
				&nbsp;</section>
			<section style="margin: 0px; padding: 2px 0px 0px 40px; font-size: 18px; box-sizing: border-box;">
				<strong style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; color: inherit; font-family: 微软雅黑; font-size: 15px;">存储数据</span></strong></section>
		</section>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">监控报警的数据，全部都是围绕&ldquo;监控指标的值随时间变化的趋势&rdquo;这一目标而设计的。每一项监控指标数据序列都是天然的按&ldquo;时间排序&rdquo;的，这是其特点。业界管存储这种数据结构的工具叫&ldquo;时间序列数据库&rdquo;。这是一种专有数据库，并非像RDBMS（关系型数据库）是一种通用的SQL-LIKE的数据库。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">市面上有很多很多的基于时间序列的数据库，不论其底层的数据结构实现是什么样子，时间序列存储的本质数据结构永远都是：</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px; color: rgb(136, 136, 136);">Map&lt; METRIC_KEY , sortedMap&lt;timestamp, METRIC_VALUE &gt;&gt;</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">不同的底层实现都是在上面这个数据结构的一些点上有不同的扩展，比如：</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">s1.在METRIC_KEY的分片逻辑，实现上不同：选取的分片是一致性哈希，还是求余哈希。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">s2.SortedMap的实现不同，本质上是一个按Timestamp排序的序列。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">s3.读写的偏好略有不同。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">在这里我不会着重去讲具体的每一个时间序列的数据库以及其底层数据结构的实现。在技术选型时既要考虑技术的痛点，也需要考虑业务上的痛点，业务场景定下来了，技术选型才能定。那么根据业务场景，又有了其它几个选型点：</span></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">s4.Metrics是否会无限增加？</span></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">s5.Metrics保留的时间跨度有多长？</span></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">s6.上层的业务报警，有多重要？</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">为了解决技术选型SELECT，s1-s6，我拿一些例子来说明：</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<ul class="list-paddingleft-2" style="margin: 0px; padding-right: 0px; padding-left: 30px; width: 530.094px;">
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><strong style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; font-size: 15px;">Metrics是否会无限增加，保留时长</span></strong></p>
		</li>
		</ul>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">专有系统，即解决某一特定领域问题的时间序列存储，Metric key不会无限增长。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">比如我们管理Hadoop的套件Cloudera-Manager或Hortonworks的Ambari，都有自带的监控报警系统。他们都是把数据存储在本地的磁盘上，相当于是一个本地的数据库。单机版数据库的问题就是受单机硬盘的物理上限限制。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">好在Hadoop技术栈的监控指标是有限的、收敛的，且这些数据也大多只需要保留1个月。因此&ldquo;Hadoop监控系统们&rdquo;的单机存储空间是可控的。专有系统，一定是服务于一个成熟的&ldquo;内聚产品&rdquo;。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">通用监控报警系统，Metric key会无限增长。如《Measure Anything，Measure Everything》提到，公司每个业务线Team都会把自己的应用数据发送到统一的指标数据存储中。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">随着业务线、监控指标的增长，时间序列存储的压力是无限增加的，且数据的保留时长不定，很有可能是无限长（每个应用都有其特殊性，不可估量）。这就要求底层的数据存储必须支持&ldquo;无限水平扩展&rdquo;。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<ul class="list-paddingleft-2" style="margin: 0px; padding-right: 0px; padding-left: 30px; width: 530.094px;">
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><strong style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; font-size: 15px;">SortedMap实现和读写偏好</span></strong></p>
		</li>
		</ul>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">SortedMap即全局排序的映射表，它的实现更要由报警监控的实际需求出发了。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">专有系统，由于是有限的指标，且搜集数据的频率也不会特别变态的高，那么同一时刻写入的数据量应该是可控的。此时B＋Tree、SkipList都是很好的实现方式。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">而通用系统，监控指标会无限增加，有些指标采集需求的频率可达几十毫秒。这么高频的并发写入需求，一般实用lSM Tree来实现。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<ul class="list-paddingleft-2" style="margin: 0px; padding-right: 0px; padding-left: 30px; width: 530.094px;">
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><strong style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; font-size: 15px;">上层的业务报警，有多重要（HA &amp; 高可用性）</span></strong></p>
		</li>
		</ul>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">任何时候，监控报警系统都必须可用，必须可以容忍一部分机器挂掉。其不能因为某台机器、某个进程挂掉而导致整个监控报警体系都Down掉。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 12px;">SPOF :https://en.wikipedia.org/wiki/Single_point_of_failure</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">监控报警系统是用来&ldquo;观测公司内部的所有业务是否正常运转&rdquo;的，所有产品的第一时间救命稻草也就都压在了&ldquo;监控报警&rdquo;系统上了。它挂了，公司所有产品出问题都反映不出来了。所以像基于单机版本数据存储的时间序列是不能满足企业级要求的。一定要选择高可用HA（High Available）的数据存储解决方案。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">而对于小型创业公司，可以在业务初期和高速增长前期暂时放弃过高的可靠可用性，先使用诸如&ldquo;磁盘Raid、定期备份、做数据库级别的主从切换&rdquo;等简单易实施的技术来快速满足轻量级的业务需求。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">最后，附上一些时间序列数据库总结引用的论文及文章：</span></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;">&nbsp;</p>
		<ul class="list-paddingleft-2" style="margin: 0px; padding-right: 0px; padding-left: 30px; width: 530.094px;">
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">wiki : Time series database</span></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 12px;">https://blog.outlyer.com/top10-open-source-time-series-databases</span></p>
		</li>
		</ul>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: center;"><img data-copyright="0" data-ratio="0.38333333333333336" data-s="300,640" data-type="jpeg" data-w="720" src="uploadfile/2018/0503/20180503112145258.jpg" style="margin: 0px; padding: 0px; max-width: 100%;" /></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: center;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: center;"><img data-copyright="0" data-ratio="0.9111111111111111" data-s="300,640" data-type="jpeg" data-w="720" src="uploadfile/2018/0503/20180503112152591.jpg" style="margin: 0px; padding: 0px; max-width: 100%;" /></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<section class="_135editor" data-color="#138bd5" data-id="85640" data-tools="135编辑器" style="margin: 0px; padding: 0px; border-width: 0px; border-style: none; border-color: initial; box-sizing: border-box; text-align: justify;">
			<section style="margin: 0px; padding: 0px; display: inline-block; float: left; color: rgb(255, 255, 255); border-color: rgb(19, 139, 213); background-color: rgb(19, 139, 213); box-sizing: border-box;">
				<section style="margin: 0px; padding: 5px 8px; display: inline-block; vertical-align: middle; color: inherit; box-sizing: border-box;">
					<section style="margin: 0px; padding: 0px; color: inherit;">
						<strong style="margin: 0px; padding: 0px; color: inherit;">3</strong></section>
				</section>
			</section>
			<section style="margin: 8px 0px 0px; padding: 0px; border-left: 8px solid rgb(19, 139, 213); border-right-width: 0px; border-right-color: rgb(19, 139, 213); display: inline-block; float: left; color: inherit; box-sizing: border-box; border-bottom: 8px solid transparent !important; border-top: 8px solid transparent !important;">
				&nbsp;</section>
			<section style="margin: 0px; padding: 2px 0px 0px 40px; font-size: 18px; box-sizing: border-box;">
				<strong style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; color: inherit; font-family: 微软雅黑; font-size: 15px;">报警规则</span></strong></section>
		</section>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">报警规则模块，首先，是天然个性的。为什么呢？按什么规则报警，显然是和每个公司的具体业务绑定的。而规则是基于对历史数据的分析、度量。这牵扯到公司业务的个性化，本篇文章对个性化的业务细节不做过多的赘述。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">我们看看看报警规则有哪些通用的技术点：</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><strong style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; font-size: 15px;">High-Available的规则周期检查</span></strong></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><br style="margin: 0px; padding: 0px;" />
		<span style="margin: 0px; padding: 0px; font-size: 15px;">企业级的应用，最强调的就是高可用HA，必须避免单点故障SPOF。&ldquo;报警规则模块&rdquo;发生问题了，仍然会导致&ldquo;监控报警&rdquo;系统失效。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">一般来说，报警规则都是周期性触发的。因此需要有一个&ldquo;类Cron Job&rdquo;的调度器。这类调度系统的HA设计可以参考&ldquo;Azkaban&rdquo; 和 &ldquo;Quartz&rdquo;。</span></p>
		<ul class="list-paddingleft-2" style="margin: 0px; padding-right: 0px; padding-left: 30px; width: 530.094px;">
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><strong style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; font-size: 12px;">Azkaban：</span></strong><span style="margin: 0px; padding: 0px; font-size: 12px;">https://azkaban.github.io/</span></p>
		</li>
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><strong style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; font-size: 12px;">Quartz：</span></strong><span style="margin: 0px; padding: 0px; font-size: 12px;">http://www.quartz-scheduler.org/</span></p>
		</li>
		</ul>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">调度系统的HA设计主要分为&ldquo;规则数据库的高可用&rdquo;和&ldquo;调度Sever的高可用&rdquo;两方面：</span></p>
		<ul class="list-paddingleft-2" style="margin: 0px; padding-right: 0px; padding-left: 30px; width: 530.094px;">
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">数据库高可用通过Master-Slave的主从实现；</span></p>
		</li>
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">调度Server的高可用，如果有状态，则使用zk／etcd来做高可用；如果无状态，那就启动多个调度服务器好了。根据调度规则，制定一定的分片策略，不算困难。</span></p>
		</li>
		</ul>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><strong style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; font-size: 15px;">报警规则定义</span></strong></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">在我观察了一系列的监控报警产品后，规约出大致有两种&ldquo;报警规则&rdquo;的定义实现方式，一种是基于&ldquo;规则表达式的&rdquo;，另一种是基于直接&ldquo;脚本&amp;编程&rdquo;的：</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<ul class="list-paddingleft-2" style="margin: 0px; padding-right: 0px; padding-left: 30px; width: 530.094px;">
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">基于规则表达式的，在熟悉了表达式语言后，比较容易编写，但灵活性差。在实现复杂的报警规则时比较难，一般适用于简单的报警规则，比如当某一、二个观测指标到达阈值时触发。例如：</span></p>
		</li>
		</ul>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">Prometheus：Alerting rules | Prometheus&nbsp;</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: center;"><img data-copyright="0" data-ratio="0.30972222222222223" data-s="300,640" data-type="jpeg" data-w="720" src="uploadfile/2018/0503/20180503112201879.jpg" style="margin: 0px; padding: 0px; max-width: 100%;" /></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: center;"><span style="margin: 0px; padding: 0px; font-size: 12px;">Promethus 基于规则设定报警的例子</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">还有基于可视化配置规则的，比如Zabbix的Trigger配置：Zabbix Documentation 3.2</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><img data-copyright="0" data-ratio="0.9916666666666667" data-s="300,640" data-type="jpeg" data-w="720" src="uploadfile/2018/0503/20180503112535399.jpg" style="margin: 0px; padding: 0px; max-width: 100%;" /></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: center;"><span style="margin: 0px; padding: 0px; font-size: 12px;">Zabbix 的可视化规则配置</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">Grafana在4.0之后，也有了基于规则的简单报警功能：Alerting Engine &amp; Rules Guide</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: center;"><img data-copyright="0" data-ratio="0.7453531598513011" data-s="300,640" data-type="jpeg" data-w="538" src="uploadfile/2018/0503/20180503112558728.jpg" style="margin: 0px; padding: 0px; max-width: 100%;" /></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: center;"><span style="margin: 0px; padding: 0px; font-size: 12px;">Grafana4.0 基于规则的报警 UI .1</span></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: center;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: center;"><img data-copyright="0" data-ratio="0.45297504798464494" data-s="300,640" data-type="jpeg" data-w="521" src="uploadfile/2018/0503/20180503112606452.jpg" style="margin: 0px; padding: 0px; max-width: 100%;" /></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: center;"><span style="margin: 0px; padding: 0px; font-size: 12px;">Grafana4.0 基于规则的报警 UI .2</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<ul class="list-paddingleft-2" style="margin: 0px; padding-right: 0px; padding-left: 30px; width: 530.094px;">
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">基于&ldquo;脚本／编程&rdquo;的，这种类型的规则定义，提供了无限的灵活性。因为&ldquo;可编程&rdquo;，就等于可以&ldquo;do everything&rdquo;。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">但也有一些坏处，比如：又多引入了一个外部依赖：代码管理库，且意味着又要为另一套系统做高可用HA，一般为公司内部的代码管理使用Github／Gitlab；想快速修改报警规则时，流程会相对慢，因为要经过代码的修改，Merge，最后Submit。</span></p>
		</li>
		</ul>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><strong style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; font-size: 15px;">报警规则&ldquo;脚本&rdquo;定义的例子：&nbsp;</span></strong></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">收集两个数据源的数据，根据自定义规则，判断指标是否异常，如果有异常，先进行&ldquo;重启&rdquo;行为，缓解线上压力，再发出报警给相关工程师，追查真正原因。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">这种稍微复杂的报警规则，用编程脚本的方式实现起来毫无压力，而如果要用基于规则语言的报警，则比较困难，甚至是不可能实现的。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: center;"><img data-copyright="0" data-ratio="0.6208333333333333" data-s="300,640" data-type="jpeg" data-w="720" src="uploadfile/2018/0503/20180503112615653.jpg" style="margin: 0px; padding: 0px; max-width: 100%;" /></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: center;"><span style="margin: 0px; padding: 0px; font-size: 12px;">基于&ldquo;脚本&rdquo;的报警规则，定义函数</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: center;"><img data-copyright="0" data-ratio="0.75" data-s="300,640" data-type="jpeg" data-w="720" src="uploadfile/2018/0503/20180503112622933.jpg" style="margin: 0px; padding: 0px; max-width: 100%;" /></p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: center;"><span style="margin: 0px; padding: 0px; font-size: 12px;">基于&ldquo;脚本&amp;编程&rdquo;的报警规则 例子</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<section class="_135editor" data-color="#138bd5" data-id="85640" data-tools="135编辑器" style="margin: 0px; padding: 0px; border-width: 0px; border-style: none; border-color: initial; box-sizing: border-box; text-align: justify;">
			<section style="margin: 0px; padding: 0px; display: inline-block; float: left; color: rgb(255, 255, 255); border-color: rgb(19, 139, 213); background-color: rgb(19, 139, 213); box-sizing: border-box;">
				<section style="margin: 0px; padding: 5px 8px; display: inline-block; vertical-align: middle; color: inherit; box-sizing: border-box;">
					<section style="margin: 0px; padding: 0px; color: inherit;">
						<strong style="margin: 0px; padding: 0px; color: inherit;">4</strong></section>
				</section>
			</section>
			<section style="margin: 8px 0px 0px; padding: 0px; border-left: 8px solid rgb(19, 139, 213); border-right-width: 0px; border-right-color: rgb(19, 139, 213); display: inline-block; float: left; color: inherit; box-sizing: border-box; border-bottom: 8px solid transparent !important; border-top: 8px solid transparent !important;">
				&nbsp;</section>
			<section style="margin: 0px; padding: 2px 0px 0px 40px; font-size: 18px; box-sizing: border-box;">
				<strong style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; color: inherit; font-family: 微软雅黑; font-size: 15px;">报警行为</span></strong></section>
		</section>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">大家可能会问，报警行为有什么好讲的呢？ 不外乎就是在报警规则触发后，通过电话、微信、短信、邮件等媒介找到正确的负责人，这听起来很简单啊。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><strong style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; font-size: 15px;">好，我们继续把应用场景想的丰富一些：</span></strong></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">比如我们的Hadoop架构组，有 HDFS、Yarn、Hive、HBase、Zookeeper、Spark、Presto、Impala、Hue、Cloudera Manager&hellip;&hellip;OK，不要再讲了。这么多组件，一个人能运维的过来吗？是否需要组内的多个人分工呢？ 每个人一个星期？</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">检测Hadoop Namenode健康的报警每5分钟一次，是否每一次检测失败了都要报警？会不会有误报？第一次异常报警后，工程师已经在排查问题了，这时连续的第二次、第三次检测异常，是否需要连续的打电话去打扰工程师？ 那么，连续几次抑制报警呢？</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">哪些报警是非常重要的，白天晚上都必须打电话通知；哪些是相对重要的，白天打电话，晚上可以发一封邮件、短信先通知问题；哪些是次要的，可以只发一封邮件的。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">有时候检测程序也会因为一些&ldquo;噪音&rdquo;产生抖动，比如检测网页打开速度限制在2ms，但是有一次访问就是因为网络链路的抖动达到了50ms，那是否就应该直接报警呢？ 是不是连续3-5次的数据全部超标，确认问题之后再报警呢？</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><strong style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; font-size: 15px;">报警行为软件，分为&ldquo;自研&rdquo;和&ldquo;第三方&rdquo;两条路。</span></strong></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<ul class="list-paddingleft-2" style="margin: 0px; padding-right: 0px; padding-left: 30px; width: 530.094px;">
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">自研开发，这条路适合有强大复杂报警行为规则的大公司。包括报警行为规则的复杂和报警媒介的复杂两方面。每一家公司使用的内网办公聊天软件、邮件系统可能都不一样，都会有独特的场景需要集成。每一家公司、每一个组的报警行为可能也不一样，有的要7*24小时，有的只需要白天发封邮件，有的甚至只需要在工作日的白天发封邮件。</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		</li>
		<li style="margin: 0px; padding: 0px; clear: both;">
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">第三方软件，中小型公司，创业公司，更适合使用第三方软件。目前据我了解，湾区的公司，大多使用Pagerduty，可参考链接了解详情：</span><span style="margin: 0px; padding: 0px; font-size: 12px;">https://www.pagerduty.com/</span><span style="margin: 0px; padding: 0px; font-size: 15px;">，而这款产品并没有做中文的本地化，本土的软件，还没有一款杀手级的存在于市场。我找了一圈，找到了Oneapm公司的One-Alert</span><span style="margin: 0px; padding: 0px; font-size: 12px;">（http://www.110monitor.com/）</span><span style="margin: 0px; padding: 0px; font-size: 15px;">，我试了试Demo还不错，打算试试看。个人意见，觉得这一块的需求会越来越大，希望国内能有靠谱像样的公司做起来，共同推进国内的&ldquo;监控报警&rdquo;市场发展。</span></p>
		</li>
		</ul>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<section class="_135editor" data-color="#138bd5" data-id="86122" data-tools="135编辑器" style="margin: 0px; padding: 0px; border-width: 0px; border-style: none; border-color: initial; box-sizing: border-box;">
			<section style="margin: 0.5em 0px; padding: 0px;">
				<section style="margin: 0px; padding: 0px 0px 2px; text-align: center; color: rgb(255, 255, 255); background-color: rgb(19, 139, 213); box-sizing: border-box;">
					<section style="margin: 0px; padding: 0.5em 1.5em; border-bottom: 1px solid rgb(254, 254, 254); border-top-color: rgb(19, 139, 213); border-right-color: rgb(19, 139, 213); border-left-color: rgb(19, 139, 213); box-sizing: border-box;">
						<p class="135brush" data-brushtype="text" style="margin: 0px; padding: 0px; clear: both; font-size: 20px; line-height: 20px;"><strong style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; font-size: 16px;">五、总结</span></strong></p>
					</section>
				</section>
			</section>
		</section>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">我整理了一张表，描述常见的&ldquo;监控报警&rdquo;领域的开源产品，落在哪个区间：</span></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: center;"><img data-copyright="0" data-ratio="1.011111111111111" data-s="300,640" data-type="jpeg" data-w="720" src="uploadfile/2018/0503/20180503112700290.jpg" style="margin: 0px; padding: 0px; max-width: 100%;" /></p>
		<p style="margin: 0px; padding: 0px; clear: both;">&nbsp;</p>
		<p style="margin: 0px; padding: 0px; clear: both; text-align: justify;"><span style="margin: 0px; padding: 0px; font-size: 15px;">在做技术选型时，一定要看的长远，多想想未来的需求，不能只着眼于快速交付。同时，也希望国内能有专注于&ldquo;报警行为&rdquo;的公司出现。</span></p>
	</section>
</section>
                        <div style=" text-align: center">
                                                                                                            </div>
                    </div>
					<div class="bdsharebuttonbox" style="max-width:300px;margin:20px auto;">
						<a class="bds_more" data-cmd="more" rel="nofollow"></a>
						<a class="bds_weixin" data-cmd="weixin" title="分享到微信" rel="nofollow"></a>
						<a class="bds_sqq" data-cmd="sqq" title="分享到QQ好友" rel="nofollow"></a>
						<a class="bds_tsina" data-cmd="tsina" title="分享到新浪微博" rel="nofollow"></a>
						<a class="bds_douban" data-cmd="douban" title="分享到豆瓣网" rel="nofollow"></a>
						<a class="bds_renren" data-cmd="renren" title="分享到人人网" rel="nofollow"></a>
						<a class="bds_linkedin" data-cmd="linkedin" title="分享到linkedin" rel="nofollow"></a>
						<a class="bds_fbook" data-cmd="fbook" title="分享到Facebook" rel="nofollow"></a>
						<a class="bds_twi" data-cmd="twi" title="分享到Twitter" rel="nofollow"></a>
					</div>
					<script>
						window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"DBA+社群——一个专属于DBA的圈子分享互助,搭建人脉,整合资源,提升自我","bdMini":"1","bdMiniList":false,"bdPic":"http://dbaplus.cn/statics/dbaplus/images/logo.png","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
					</script>
                                        <iframe src="index.php?m=comment&amp;c=index&amp;a=init&amp;commentid=content_141-2038-1&amp;iframe=1" width="100%" height="100%" id="comment_iframe" frameborder="0" scrolling="no"></iframe>
                                    </div>

            </div>

        </div>
        <div class="col-xs-12 col-md-4 pd30">

            <div class="panel panel-default">
	<div class="panel-heading text-center">热门文章</div>
	<div class="panel-body">
		<ul class="media-list hot-news clearfix">
									<li class="media">
				<a class="pull-left" href="http://dbaplus.cn/news-72-1965-1.html">
					<img class="media-object" src="uploadfile/2018/0314/20180314101846281.jpg" width="100" height="66" alt="终于有人把云计算、大数据和人工智能讲明白了！">
				</a>

				<div class="media-body">
					<h5 class="media-heading"><a href="http://dbaplus.cn/news-72-1965-1.html">终于有人把云计算、大数据和人工智能讲明白了！</a></h5>
				</div>
				<div class="btnbox"><span class="time">2018-03-14</span></div>
			</li>
						<li class="media">
				<a class="pull-left" href="http://dbaplus.cn/news-141-1962-1.html">
					<img class="media-object" src="uploadfile/2018/0312/20180312071035442.jpg" width="100" height="66" alt="当云服务融入分布式缓存系统架构，会擦出怎样的火花？">
				</a>

				<div class="media-body">
					<h5 class="media-heading"><a href="http://dbaplus.cn/news-141-1962-1.html">当云服务融入分布式缓存系统架构，会擦出怎样的火花？</a></h5>
				</div>
				<div class="btnbox"><span class="time">2018-03-13</span></div>
			</li>
						<li class="media">
				<a class="pull-left" href="http://dbaplus.cn/news-141-1963-1.html">
					<img class="media-object" src="uploadfile/2018/0312/20180312072430170.jpg" width="100" height="66" alt="上云三部曲：集团支付平台数据架构最佳实践">
				</a>

				<div class="media-body">
					<h5 class="media-heading"><a href="http://dbaplus.cn/news-141-1963-1.html">上云三部曲：集团支付平台数据架构最佳实践</a></h5>
				</div>
				<div class="btnbox"><span class="time">2018-03-12</span></div>
			</li>
						<li class="media">
				<a class="pull-left" href="http://dbaplus.cn/news-149-1957-1.html">
					<img class="media-object" src="uploadfile/2018/0309/20180309110808889.jpg" width="100" height="66" alt="远离温水煮青蛙，新的一年做个有规划的技术人！">
				</a>

				<div class="media-body">
					<h5 class="media-heading"><a href="http://dbaplus.cn/news-149-1957-1.html">远离温水煮青蛙，新的一年做个有规划的技术人！</a></h5>
				</div>
				<div class="btnbox"><span class="time">2018-03-09</span></div>
			</li>
						<li class="media">
				<a class="pull-left" href="http://dbaplus.cn/news-73-1955-1.html">
					<img class="media-object" src="uploadfile/2018/0308/20180308120309205.jpg" width="100" height="66" alt="应对Hadoop集群数据疯长，这里祭出了4个治理对策！">
				</a>

				<div class="media-body">
					<h5 class="media-heading"><a href="http://dbaplus.cn/news-73-1955-1.html">应对Hadoop集群数据疯长，这里祭出了4个治理对策！</a></h5>
				</div>
				<div class="btnbox"><span class="time">2018-03-08</span></div>
			</li>
								</ul>
	</div>
</div>  <!-- 热门文章 -->
			
			<!-- 最新评论 -->
			<div class="newcomment">
				<div><i class="glyphicon glyphicon-comment"></i>最新评论</div>
														   <dl>
							<dt class="userPic"><img src="statics/dbaplus/images/user.png" /></dt>
							<dd class="commentContent">
								<div>
									<span class="userName">访客</span>
									<span class="time">2020年07月10日</span>
								</div>
								<p><a href="https://dbaplus.cn/news-160-192-1.html">有一点不明白，备机是新机器，能直接通过gprecoverseg…</a></p>
							</dd>
						</dl>
										   <dl>
							<dt class="userPic"><img src="statics/dbaplus/images/user.png" /></dt>
							<dd class="commentContent">
								<div>
									<span class="userName">访客</span>
									<span class="time">2020年07月05日</span>
								</div>
								<p><a href="https://dbaplus.cn/news-141-2601-1.html">在很多场景，分布式数据库就是来代替关系型数据库。关…</a></p>
							</dd>
						</dl>
										   <dl>
							<dt class="userPic"><img src="statics/dbaplus/images/user.png" /></dt>
							<dd class="commentContent">
								<div>
									<span class="userName">访客</span>
									<span class="time">2020年06月30日</span>
								</div>
								<p><a href="https://dbaplus.cn/news-160-3270-1.html">多于多表关联，表又非常大适用吗？</a></p>
							</dd>
						</dl>
										   <dl>
							<dt class="userPic"><img src="statics/dbaplus/images/user.png" /></dt>
							<dd class="commentContent">
								<div>
									<span class="userName">访客</span>
									<span class="time">2020年06月27日</span>
								</div>
								<p><a href="https://dbaplus.cn/news-141-1875-1.html">写的不错， 学到了。</a></p>
							</dd>
						</dl>
										   <dl>
							<dt class="userPic"><img src="statics/dbaplus/images/user.png" /></dt>
							<dd class="commentContent">
								<div>
									<span class="userName">访客</span>
									<span class="time">2020年06月17日</span>
								</div>
								<p><a href="https://dbaplus.cn/news-141-1875-1.html">写的真好</a></p>
							</dd>
						</dl>
												</div>
			<!-- 最新评论 end-->
			
            <div class="panel panel-default">
                <div class="panel-heading text-center">活动预告</div>
                <div class="panel-body activity">
                    <div class="relative">
                        <div class="lines"></div>
                        <ul class="list-group">
                                                                                    <li>
                                <b class="dot"><em></em></b>
                                <div class="activ-text clearfix">
                                    <div class="pull-left state"><span class="label label-danger">即将开始</span></div>
                                    <div class="pull-left text"><a href="https://gdevops.com/">2020 Gdevops全球敏捷运维峰会北京站</a></div>
                                </div>
                                <div class="date small"><span class="">时间：2020-09-11</span><span>形式：线下峰会</span></div>
                            </li>
                                                        <li>
                                <b class="dot"><em></em></b>
                                <div class="activ-text clearfix">
                                    <div class="pull-left state"><span class="label label-danger">即将开始</span></div>
                                    <div class="pull-left text"><a href="https://www.dams.org.cn/">2020 DAMS中国数据智能管理峰会-上海站</a></div>
                                </div>
                                <div class="date small"><span class="">时间：2020-11-06</span><span>形式：线下峰会</span></div>
                            </li>
                                                        <li>
                                <b class="dot"><em></em></b>
                                <div class="activ-text clearfix">
                                    <div class="pull-left state"><span class="label label-danger">即将开始</span></div>
                                    <div class="pull-left text"><a href="https://dbaplus.cn/activity-12-1013-1.html">【dbaplus社群线上分享232期】基于Flink+ServiceMesh的腾讯游戏大数据服务应用实践</a></div>
                                </div>
                                <div class="date small"><span class="">时间：2020-07-15</span><span>形式：线上分享</span></div>
                            </li>
                                                        <li>
                                <b class="dot"><em></em></b>
                                <div class="activ-text clearfix">
                                    <div class="pull-left state"><span class="label label-danger">即将开始</span></div>
                                    <div class="pull-left text"><a href="https://dbaplus.cn/activity-48-1011-1.html">2020QECon-全球软件质量&效能大会</a></div>
                                </div>
                                <div class="date small"><span class="">时间：2020-09-04</span><span>形式：线下峰会</span></div>
                            </li>
                                                        <li>
                                <b class="dot"><em></em></b>
                                <div class="activ-text clearfix">
                                    <div class="pull-left state"><span class="label label-danger">即将开始</span></div>
                                    <div class="pull-left text"><a href="https://dbaplus.cn/activity-48-941-1.html">CSIC2020第五届SaaS应用大会</a></div>
                                </div>
                                <div class="date small"><span class="">时间：2020-07-29</span><span>形式：线下峰会</span></div>
                            </li>
                                                        <li>
                                <b class="dot"><em></em></b>
                                <div class="activ-text clearfix">
                                    <div class="pull-left state"><span class="label label-default">已结束</span></div>
                                    <div class="pull-left text"><a href="https://dbaplus.cn/activity-12-966-1.html">T-live产业互联系列直播 | 金融专场 </a></div>
                                </div>
                                <div class="date small"><span class="">时间：2020-07-03</span><span>形式：线上分享</span></div>
                            </li>
                                                        <li>
                                <b class="dot"><em></em></b>
                                <div class="activ-text clearfix">
                                    <div class="pull-left state"><span class="label label-default">已结束</span></div>
                                    <div class="pull-left text"><a href="https://dbaplus.cn/activity-48-944-1.html">2020数字金融峰会</a></div>
                                </div>
                                <div class="date small"><span class="">时间：2020-07-03</span><span>形式：线下峰会</span></div>
                            </li>
                                                        <li>
                                <b class="dot"><em></em></b>
                                <div class="activ-text clearfix">
                                    <div class="pull-left state"><span class="label label-default">已结束</span></div>
                                    <div class="pull-left text"><a href="https://dbaplus.cn/activity-12-1007-1.html">【dbaplus社群线上分享231期】高并发场景下，光大银行分布式数据库的架构转型实战</a></div>
                                </div>
                                <div class="date small"><span class="">时间：2020-07-08</span><span>形式：线上分享</span></div>
                            </li>
                                                        <li>
                                <b class="dot"><em></em></b>
                                <div class="activ-text clearfix">
                                    <div class="pull-left state"><span class="label label-default">已结束</span></div>
                                    <div class="pull-left text"><a href="https://dbaplus.cn/activity-12-1006-1.html">【dbaplus社群线上分享230期】大规模多存储场景的数据库选型与服务平台建设之路</a></div>
                                </div>
                                <div class="date small"><span class="">时间：2020-07-01</span><span>形式：线上分享</span></div>
                            </li>
                                                        <li>
                                <b class="dot"><em></em></b>
                                <div class="activ-text clearfix">
                                    <div class="pull-left state"><span class="label label-default">已结束</span></div>
                                    <div class="pull-left text"><a href="https://dbaplus.cn/activity-12-1001-1.html">【dbaplus社群线上分享229期】私有云环境下，基于Prometheus的监控体系建设</a></div>
                                </div>
                                <div class="date small"><span class="">时间：2020-06-24</span><span>形式：线上分享</span></div>
                            </li>
                                                        <li>
                                <b class="dot"><em></em></b>
                                <div class="activ-text clearfix">
                                    <div class="pull-left state"><span class="label label-default">已结束</span></div>
                                    <div class="pull-left text"><a href="https://dbaplus.cn/activity-12-990-1.html">【dbaplus社群线上分享224期】新鲜开源：基于Prometheus的企业监控平台设计与实现</a></div>
                                </div>
                                <div class="date small"><span class="">时间：2020-06-20</span><span>形式：线上分享</span></div>
                            </li>
                                                        <li>
                                <b class="dot"><em></em></b>
                                <div class="activ-text clearfix">
                                    <div class="pull-left state"><span class="label label-default">已结束</span></div>
                                    <div class="pull-left text"><a href="https://dbaplus.cn/activity-12-999-1.html">【dbaplus社群线上分享228期】网易数据库多活架构的演进与实践</a></div>
                                </div>
                                <div class="date small"><span class="">时间：2020-06-19</span><span>形式：线上分享</span></div>
                            </li>
                                                        <li>
                                <b class="dot"><em></em></b>
                                <div class="activ-text clearfix">
                                    <div class="pull-left state"><span class="label label-default">已结束</span></div>
                                    <div class="pull-left text"><a href="https://dbaplus.cn/activity-12-997-1.html">【dbaplus社群线上分享227期】围绕故障管理，谈SRE体系建设</a></div>
                                </div>
                                <div class="date small"><span class="">时间：2020-06-17</span><span>形式：</span></div>
                            </li>
                                                        <li>
                                <b class="dot"><em></em></b>
                                <div class="activ-text clearfix">
                                    <div class="pull-left state"><span class="label label-default">已结束</span></div>
                                    <div class="pull-left text"><a href="https://cloud.tencent.com/developer/salon/live-1240?channel=dbaplus">云+社区沙龙 | 存储变革：Redis混合存储版的统一存储实践</a></div>
                                </div>
                                <div class="date small"><span class="">时间：2020-06-15</span><span>形式：线上分享</span></div>
                            </li>
                                                        <li>
                                <b class="dot"><em></em></b>
                                <div class="activ-text clearfix">
                                    <div class="pull-left state"><span class="label label-default">已结束</span></div>
                                    <div class="pull-left text"><a href="https://dbaplus.cn/activity-12-1009-1.html">WeDataSphere社区Meetup | 计算中间件Linkis的应用和实践</a></div>
                                </div>
                                <div class="date small"><span class="">时间：2020-07-09</span><span>形式：线上分享</span></div>
                            </li>
                                                        <li class="text-center">
                                <a href="https://dbaplus.cn/activity-12-1.html">查看更多</a>
                            </li>
                                                    </ul>
                    </div>
                </div>
            </div>
            <!--活动预告 end-->
            <!--左侧栏硬广-->
            <div class="mt20 advertising hidden-xs">
                                                <a href="https://gdevops.com/index.php?m=content&c=index&a=lists&catid=79" rel="nofollow"><img src="uploadfile/2020/0312/20200312044018276.jpg" /></a>
                                <a href="https://www.dams.org.cn/" rel="nofollow"><img src="uploadfile/2020/0602/20200602042503585.jpg" /></a>
                                <a href="https://dbaplus.cn/index.php?m=content&c=index&a=show&catid=53&id=89" rel="nofollow"><img src="uploadfile/2020/0528/20200528111449617.jpg" /></a>
                                <a href="http://dbaplus.cn/news-10-586-1.html" rel="nofollow"><img src="uploadfile/2016/0805/20160805095135940.jpg" /></a>
                                <a href="http://dbaplus.cn/news-21-1117-1.html" rel="nofollow"><img src="uploadfile/2017/0315/20170315013109349.png" /></a>
                                            </div>
        </div>

    </div>
</div>

<footer>
    <div class="container">
        <div class="col-md-3 col-xs-12">
            <div class="nav mt20">
				<p>dbaplus<!--span style="font-size:8px; vertical-align:top;">＋</span-->社群</p>
				<ul>
					<li><b></b><a href="http://dbaplus.cn/activity-12-1.html">线上分享</a></li>
					<li><b></b><a href="http://dbaplus.cn/activity-48-1.html">线下沙龙</a></li>
					<li><b></b><a href="http://gdevops.com/">Gdevops峰会</a></li>
					<li><b></b><a href="http://www.dams.org.cn/">DAMS峰会</a></li>
        </ul>
        <ul>
					<li><b></b><a href="http://dbaplus.cn/blog-56-1.html">专家专栏</a></li>
					<li><b></b><a href="http://dbaplus.cn/list-68-1.html">免费工具</a></li>
					<li><b></b><a href="http://dbaplus.cn/about-61.html">关于我们</a></li>
					<!-- 										<li>
						<b></b><a href="https://dbaplus.cn/index.php?m=content&c=index&a=lists&catid=59">活动</a>
					</li>
															<li>
						<b></b><a href="https://dbaplus.cn/new_video/index.html">在线课程</a>
					</li>
															<li>
						<b></b><a href="http://gdevops.com">Gdevops峰会</a>
					</li>
									</ul>
				<ul>
															<li>
						<b></b><a href="http://www.dams.org.cn/" target="_blank">DAMS峰会</a>
					</li>
															<li>
						<b></b><a href="https://dbaplus.cn/list-143-1.html">原创风采</a>
					</li>
															<li>
						<b></b><a href="https://dbaplus.cn/news-135-1.html">企业直聘</a>
					</li>
															<li>
						<b></b><a href="https://dbaplus.cn/list-142-1.html">下载</a>
					</li>
															<li>
						<b></b><a href="https://dbaplus.cn/list-144-1.html">关于我们</a>
					</li>
															 -->
				</ul>
            </div>
        </div>
        <div class="col-md-7 col-xs-12">
            <div class="shequn mt20">
                <dl>
                    <dt>数据连接未来</dt>
                    <dd><p>dbaplus：数据连接未来！围绕Database、Bigdata、AiOps的企业级专业社群。行业大咖、技术干货，每天精品原创文章推送，每周线上技术分享，每月线下技术沙龙，受众20W+。</p></dd>
					<dd><br /></dd>
                    <dd><p>原创投稿 | 推广合作 | 媒体合作 | 资源对接　联系人：林女士　电话：15876566088　QQ：1134224462</p></dd>
                    <dd><p>邮箱：linyuting@dbaplus.cn</p></dd>
                </dl>
            </div>
        </div>
        <div class="col-md-2 col-xs-12">
            <div class="dba mt20"><img src="statics/dbaplus/images/dba.jpg"></div>
            <p class="small sao">扫码关注加入各城市微群</p>
        </div>
    </div>
</footer>



<div id="side-bar" class="side-pannel side-bar">
    <a href="javascript:;" class="qr">
        <s class="g-icon-qr1"></s>
        <i></i>
    </a>
    <a href="http://weibo.com/dbaplus" rel="nofollow" target="_blank">
        <s class="g-icon-qr2"></s>
    </a>
    <a href="javascript:;" class="gotop" style="display:none;">
        <s class="g-icon-top"></s>
    </a>
</div>

<script>
    $(function () {
        $(window).scroll(function () {
            if ($(window).scrollTop() > 100) {
                $("#side-bar .gotop").fadeIn();
            }
            else {
                $("#side-bar .gotop").hide();
            }
        });
        $("#side-bar .gotop").click(function () {
            $('html,body').animate({'scrollTop': 0}, 500);
        });
    });
</script>

<!--百度统计代码-->
<script>
	var _hmt = _hmt || [];
	(function() {
		var hm = document.createElement("script");
		hm.src = "//hm.baidu.com/hm.js?7f4d06e5bbd8d0b2c5387b04e2a1a6eb";
		var s = document.getElementsByTagName("script")[0];
		s.parentNode.insertBefore(hm, s);
	})();
</script>
﻿<div class="footer-bottom">
    <div class="container">
        <div class="foot-info">
            <small>© 2015 All rights reserved. </small> <small><a href="http://www.beian.miit.gov.cn/" style="margin:0 5px;color:#fff;">沪ICP备15021599号-2</a></small> <small>上海光语照明设计有限公司</small>
            <!--数据专家统计代码-->
            <div class="cnzz">
                <script type="text/javascript">
                    var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
                    document.write(unescape("%3Cspan id='cnzz_stat_icon_1256693910'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s95.cnzz.com/z_stat.php%3Fid%3D1256693910%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));
                </script>
            </div>
        </div>
    </div>
</div>
</body>
</html>